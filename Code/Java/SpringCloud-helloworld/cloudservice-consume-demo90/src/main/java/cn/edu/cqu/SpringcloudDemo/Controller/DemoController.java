package cn.edu.cqu.SpringcloudDemo.Controller;import cn.edu.cqu.SpringcloudDemo.Model.MyJson;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestController;import org.springframework.web.client.RestTemplate;import javax.annotation.Resource;/** * @ author     ：alberto * @ date       ：Created in 2020/4/28 14:57 * @ description：消费者控制器 */@RestControllerpublic class DemoController {    // 使用 RestTemplate 去调用对应微服务的URI    @Resource    private RestTemplate restTemplate;    // 将application.yml中的配置写到这里做常量，也可以采用hardcode的方式，但是不推荐    @Value("${service-url.nacos-user-ser，vice}")    private String userServiceURI;    @Value("${service-url.nacos-item-service}")    private String itemServiceURI;    // 消费者服务器暴漏给外面的URI    @GetMapping(value = "/consumer/userservice")    public MyJson testUserService(@RequestParam(value = "userId") int userId) {        return restTemplate.getForObject(userServiceURI + userId, MyJson.class); // 使用 Nacos 自带的 Ribbon 调用生产者提供的服务    }    // 消费者服务器暴漏给外面的URI    @GetMapping(value = "/consumer/itemservice/{itemId}")    public MyJson testItemService(@PathVariable(value = "itemId") int itemId) {        return restTemplate.getForObject(itemServiceURI + itemId, MyJson.class);    }}